//
// Home screen
//-------------------------------------

@import "safe.toggle";

/* -------------------------------------
 * Image Button
 * ------------------------------------- */

.image-button a {
  z-index: 10;
  line-height: 1rem;
  
  > img {
    width:100%;
  }
}

/* -------------------------------------
 * Bluetooth connecting
 * ------------------------------------- */

.bluetooth {
//  position: absolute;
  font-size: 2.5rem;
//  border-radius: 100%;
//  border: 1px solid;
//  padding: 15%;
  
  small { 
    font-size: 80%; 
    padding: 0.4rem 0px 0px 0.1rem;
    .connecting {
      -webkit-animation: twinkling 2s infinite ease-in;
    }
    .disconnected {
      display: none;
    }
  }
}

/* -------------------------------------
 * digital display
 * ------------------------------------- */

$gray:                                #aaa !default;

.digital-display {
  h2 {
    @media (width: 320px){
      font-size: 1.5rem;
    }
    @media (width: 360px){
      font-size: 1.5rem;
    }
    @media (width: 375px){
      font-size: 1.8rem;
    }
    @media (width: 414px){
      font-size: 2.0rem;
    }
    small {
      font-size: 60%;
      color: $gray;
    }
  }
  .connected {
    color: $positive;
  }
}

// Variable

$barColor:                            $positive;
$waringColor:                         $assertive;
$backColor:                           $base-background-color;
$top-margin:                          0%;
$bandwidth:                           6%;

/* -------------------------------------
 * Power Cycle
 * ------------------------------------- */

.mt-lg {
  margin-top: -6.5rem !important;
}

.mt-md {
  margin-top: -3.5rem !important;
}

.mt-sm {
  margin-top: -2.0rem !important;
}

.mt-xs {
  margin-top: -1.0rem !important;
}

.col {
  position: relative;
  width: 100%;
  .home-power-cycle {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    margin: auto;
    border-radius: 50%;
    background-color: #999;
    padding-bottom: 100%;
  }
}

.col {
  .home-power-cycle .overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%-$bandwidth*2;
    height: 100%-$bandwidth*2;
    background-color: $base-background-color;
    border-radius: 50%;
    margin-left: $bandwidth;
    margin-top: $bandwidth;
  }
}

/* -------------------------------------
 * Mixin for progress-% class
 * ------------------------------------- */

$step: 1; // step of % for created classes

$loops: round(100 / $step);
$increment: 360 / $loops;
$half: round($loops / 2);
$percent20: round($loops/5);

@for $i from 0 through $loops {
  .home-power-cycle-#{$i*$step} {
    -webkit-box-shadow: 0 0 0rem;
    @if $i < $half {
      $nextdeg: 180deg - ( $increment * $i );
      @if $i < $percent20 {
        background-image: 
        -webkit-linear-gradient(0deg, $backColor 50%, transparent 50%), 
        -webkit-linear-gradient($nextdeg, $backColor 50%, $waringColor 50%);
//        -webkit-box-shadow: 0 0 1rem $assertive;
      }
      @else {
        background-image: 
        -webkit-linear-gradient(0deg, $backColor 50%, transparent 50%), 
        -webkit-linear-gradient($nextdeg, $backColor 50%, $barColor 50%);
      }
    }
    @else {
      $nextdeg: 360deg - $increment * $i;
      background-image: 
      -webkit-linear-gradient($nextdeg, $barColor 50%, transparent 50%),
      -webkit-linear-gradient(180deg, $barColor 50%, $backColor 50%);
    }
  }
}

